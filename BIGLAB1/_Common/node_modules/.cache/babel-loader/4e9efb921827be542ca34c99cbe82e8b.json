{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\giang\\\\Desktop\\\\Progetti\\\\Universitari\\\\_WIP\\\\AW1-labs\\\\BIGLAB1\\\\_Common\\\\src\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport dayjs from 'dayjs';\nimport { filters, tl } from './data';\nimport { TaskAdder } from './AdderComponents';\nimport TaskList from './TaskComponents';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Main(props) {\n  _s();\n\n  const [tasks, setTasks] = useState([...tl]);\n  const [editMode, setEditMode] = useState(-1);\n  const [show, setShow] = useState(false);\n  const [description, setDescription] = useState('');\n  const [isPrivate, setIsPrivate] = useState(false);\n  const [isImportant, setIsImportant] = useState(false);\n  const [date, setDate] = useState('');\n  const [validated, setValidated] = useState(false);\n  const [dateIsValid, setDateIsValid] = useState(false);\n  const [descIsValid, setDescIsValid] = useState(false);\n\n  const editTask = tskID => {\n    if (tskID >= 0) {\n      const currentTask = tasks.find(task => task.id === tskID);\n      setDescription(currentTask.description);\n      setIsPrivate(currentTask.isPrivate);\n      setIsImportant(currentTask.isUrgent);\n      setDate(currentTask.date.format(\"YYY-MM-DD\"));\n    }\n\n    setEditMode(tskID);\n  };\n\n  const handleShow = () => {\n    setEditMode(-1);\n    setShow(true);\n  };\n\n  const handleClose = () => {\n    setShow(false);\n    setValidated(false);\n  };\n\n  const handleSumbit = event => {\n    event.preventDefault();\n    const id = tasks.reduce((prev, current) => prev.id > current.id ? prev.id : current.id) + 1;\n    const task = {\n      id: id,\n      description: description,\n      isPrivate: isPrivate,\n      isUrgent: isImportant,\n      date: dayjs(date)\n    };\n\n    if (descIsValid && dateIsValid) {\n      setTasks(tsks => [...tsks, task]);\n      handleClose();\n      clearForm();\n    } else setValidated(true);\n  };\n\n  const handleDateChange = ev => {\n    setDate(ev.target.value);\n    setDateIsValid(dayjs(ev.target.value) >= dayjs().startOf('d'));\n  };\n\n  const handleDescChange = ev => {\n    setDescription(ev.target.value);\n    setDescIsValid(ev.target.value ? true : false);\n  };\n\n  const clearForm = () => {\n    setValidated(false);\n    setDescription('');\n    setIsPrivate(false);\n    setIsImportant(false);\n    setDate('');\n    setDateIsValid(false);\n    setDescIsValid(false);\n  };\n\n  const formProps = {\n    editMode: editMode,\n    editTask: editTask,\n    description: description,\n    isPrivate: isPrivate,\n    isImportant: isImportant,\n    date: date,\n    validated: validated,\n    dateIsValid: dateIsValid,\n    descIsValid: descIsValid,\n    setDescription: setDescription,\n    setIsPrivate: setIsPrivate,\n    setIsImportant: setIsImportant,\n    handleSumbit: handleSumbit,\n    handleDateChange: handleDateChange,\n    handleDescChange: handleDescChange\n  };\n  const adderProps = {\n    tasks: tasks,\n    setTasks: setTasks,\n    editMode: editMode,\n    editTask: editTask,\n    formProps: formProps,\n    show: show,\n    handleShow: handleShow,\n    handleClose: handleClose,\n    handleSumbit: handleSumbit,\n    clearForm: clearForm\n  };\n  return /*#__PURE__*/_jsxDEV(Col, {\n    as: \"main\",\n    lg: 8,\n    className: \"py-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: filters[props.activeFilter - 1].text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 48\n    }, this), /*#__PURE__*/_jsxDEV(TaskList, {\n      activeFilter: props.activeFilter,\n      tasks: tasks,\n      setTasks: setTasks,\n      editMode: editMode,\n      editTask: editTask,\n      formProps: formProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      className: \"fixed-bottom d-flex flex-row-reverse px-4 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(TaskAdder, { ...adderProps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Main, \"Fn4VNAdWuf5VNS2R/VkGqSFtdCA=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["C:/Users/giang/Desktop/Progetti/Universitari/_WIP/AW1-labs/BIGLAB1/_Common/src/Main.js"],"names":["dayjs","filters","tl","TaskAdder","TaskList","Col","Container","React","useState","Main","props","tasks","setTasks","editMode","setEditMode","show","setShow","description","setDescription","isPrivate","setIsPrivate","isImportant","setIsImportant","date","setDate","validated","setValidated","dateIsValid","setDateIsValid","descIsValid","setDescIsValid","editTask","tskID","currentTask","find","task","id","isUrgent","format","handleShow","handleClose","handleSumbit","event","preventDefault","reduce","prev","current","tsks","clearForm","handleDateChange","ev","target","value","startOf","handleDescChange","formProps","adderProps","activeFilter","text"],"mappings":"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","sourcesContent":["import dayjs from 'dayjs';\r\n\r\nimport {filters, tl} from './data';\r\nimport {TaskAdder} from './AdderComponents';\r\nimport TaskList from './TaskComponents';\r\n\r\nimport Col from 'react-bootstrap/Col';\r\nimport Container from 'react-bootstrap/Container';\r\n\r\nimport React, { useState } from 'react';\r\n\r\nfunction Main(props) {\r\n    const [tasks, setTasks] = useState([...tl]);\r\n    const [editMode, setEditMode] = useState(-1);    \r\n\r\n    const [show, setShow] = useState(false);\r\n    const [description, setDescription] = useState('');\r\n    const [isPrivate, setIsPrivate] = useState(false);\r\n    const [isImportant, setIsImportant] = useState(false);\r\n    const [date, setDate] = useState('');\r\n    const [validated, setValidated] = useState(false);\r\n    const [dateIsValid, setDateIsValid] = useState(false);\r\n    const [descIsValid, setDescIsValid] = useState(false);\r\n\r\n    const editTask = (tskID) => {\r\n        if(tskID >= 0) {\r\n            const currentTask = tasks.find(task => task.id === tskID);\r\n\r\n            setDescription(currentTask.description);\r\n            setIsPrivate(currentTask.isPrivate);\r\n            setIsImportant(currentTask.isUrgent);\r\n            setDate(currentTask.date.format(\"YYY-MM-DD\"));\r\n        }\r\n\r\n        setEditMode(tskID);\r\n    };\r\n    \r\n    const handleShow = () => {\r\n        setEditMode(-1);\r\n        setShow(true);\r\n    }\r\n    const handleClose = () => {\r\n        setShow(false);\r\n        setValidated(false);\r\n    };\r\n\r\n    const handleSumbit = (event) => {\r\n        event.preventDefault();\r\n\r\n        const id = tasks.reduce((prev, current) => (prev.id > current.id) ? prev.id : current.id) + 1;\r\n        const task = { id: id, description: description, isPrivate: isPrivate, isUrgent: isImportant, date: dayjs(date) };\r\n\r\n        if (descIsValid && dateIsValid) {\r\n            setTasks(tsks => [...tsks, task]);\r\n            handleClose();\r\n            clearForm();\r\n        }\r\n        else setValidated(true);\r\n    };\r\n\r\n    const handleDateChange = (ev) => {\r\n        setDate(ev.target.value);\r\n        setDateIsValid(dayjs(ev.target.value) >= dayjs().startOf('d'));\r\n    };\r\n\r\n    const handleDescChange = (ev) => {\r\n        setDescription(ev.target.value);\r\n        setDescIsValid(ev.target.value ? true : false);\r\n    };\r\n\r\n    const clearForm = () => {\r\n        setValidated(false);\r\n        setDescription('');\r\n        setIsPrivate(false);\r\n        setIsImportant(false);\r\n        setDate('');\r\n        setDateIsValid(false);\r\n        setDescIsValid(false);\r\n    };   \r\n\r\n    const formProps = {\r\n        editMode: editMode, editTask: editTask,\r\n        description: description, isPrivate: isPrivate, isImportant: isImportant, date: date, validated: validated,\r\n        dateIsValid: dateIsValid, descIsValid: descIsValid,\r\n        setDescription: setDescription, setIsPrivate: setIsPrivate, setIsImportant: setIsImportant,\r\n        handleSumbit: handleSumbit, handleDateChange: handleDateChange, handleDescChange: handleDescChange\r\n    };\r\n\r\n    const adderProps = {\r\n        tasks: tasks, setTasks: setTasks, editMode: editMode, editTask: editTask, formProps: formProps,\r\n        show: show, handleShow: handleShow, handleClose: handleClose, handleSumbit: handleSumbit, clearForm: clearForm, \r\n    };\r\n\r\n    return (\r\n        <Col as=\"main\" lg={8} className=\"py-3\"><h1>{filters[props.activeFilter - 1].text}</h1>\r\n            <TaskList activeFilter={props.activeFilter} tasks={tasks} setTasks={setTasks} editMode={editMode} editTask={editTask} formProps={formProps} />\r\n            <Container fluid className=\"fixed-bottom d-flex flex-row-reverse px-4 mb-4\">\r\n                <TaskAdder {...adderProps} />\r\n            </Container>\r\n        </Col>\r\n    );\r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}